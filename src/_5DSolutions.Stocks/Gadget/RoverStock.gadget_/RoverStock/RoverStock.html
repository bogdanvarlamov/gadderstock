<html>
<head>
<title>RoverStock</title>
<style type="text/css">

body 
{
     padding: 5px;
}



</style>

<script type="text/javascript">
<!--
    function addHeight(curHeight, amount) {

        newHeight = parseInt(curHeight) + parseInt(amount);

        if (newHeight > 85) 
        {
            document.body.style.height = newHeight;
        }

    }

    function addFrameHeight(curFrameHeight, amount) {
    
        newFrameHeight = parseInt(curFrameHeight) + parseInt(amount);

        if (newFrameHeight > 45)
        {
            document.getElementById('xbapFrame').height = newFrameHeight;
        }

    }

    function increaseHeight(amount) {

        addHeight(document.body.style.height, amount);
        addFrameHeight(document.getElementById('xbapFrame').height, amount);

        System.Gadget.Settings.write("settingsHeight", document.body.style.height);
        
    }

    function setDefaultSize() {

        var height = System.Gadget.Settings.readString("settingsHeight");

        if (height == "") {
            height = 145;
            System.Gadget.Settings.write("settingsHeight", height);
        }
        document.body.style.height = parseInt(height);
        document.body.style.width = 240;
        document.getElementById('xbapFrame').height = 120;
        document.getElementById('xbapFrame').width = 230;

    }

    function Init() {
    
        // Enable the gadget settings functionality. 
        System.Gadget.settingsUI = "Settings.html";

        // Delegate for the settings closing event. 
        System.Gadget.onSettingsClosed = SettingsClosed;

        setDefaultSize();
    }

    // --------------------------------------------------------------------
    // Handle the Settings dialog closing event.
    // Parameters:
    // event - event arguments.
    // --------------------------------------------------------------------
    function SettingsClosed(event) {
        // Save the settings if the user clicked OK.
        if (event != null) {
            if (event.closeAction == event.Action.commit) {
                var setHeight = s.getValue();

                document.body.style.height = parseInt(setHeight);
                //            if (searchTags != "") {
                //                try {
                //                    System.Gadget.Settings.write("settingsHeight", searchTags);
                //                }
                //                catch (e) {

                //                    //alert(e);
                //                }
                //            }



            }

            // Allow the Settings dialog to close.
            event.cancel = false;
        }

    }
-->

</script>
</head>
<body onload="Init()">
<g:background id="background" src="background.png" style="width:100%;height:100%;z-index: -1; position: absolute; top: 0; left: 0;" opacity="1"></g:background>

<div style="position: absolute; top: 5px; left: 5px;">
<iframe
 id="xbapFrame" src="_5DSolutions.Stocks.Gadget.xbap"></iframe>
<center>
    <span style="background-image: url(resize_bg.png); width: 80; background-repeat:no-repeat;">
        <img alt="decrease height" src="minus.png" onclick="increaseHeight(-40);"  /> 
        <img alt="use + and - to change height" src="height.png" />
        <img alt="increase height" src="plus.png" onclick="increaseHeight(40);" /> 

    </span>
</center>
</div>
</body>
</html>
